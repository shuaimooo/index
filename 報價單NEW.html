<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUMASONIX 技術人員報價單</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f5f7fa;
        }
        
        .quote-form {
            background-color: white;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .logo-text {
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .header-gradient {
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
        }
        
        table th, table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        
        input:focus, textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }
        
        @media print {
            .no-print {
                display: none;
            }
            body {
                background-color: white;
            }
            .quote-form {
                box-shadow: none;
            }
            .print-button-container {
                display: none;
            }
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="quote-form max-w-5xl mx-auto p-6 md:p-8 rounded-lg">
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
            <div>
                <h1 class="text-3xl font-bold logo-text">LUMASONIX</h1>
                <p class="text-gray-600">專業技術支援 x 人力媒合行銷</p>
            </div>
            <div class="mt-4 md:mt-0">
                <h2 class="text-2xl font-bold text-gray-800">技術人員報價單</h2>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div class="border rounded-lg p-4">
                <h3 class="font-bold text-lg mb-3 header-gradient text-white p-2 rounded">客戶資訊</h3>
                <div class="space-y-3">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">廠商名稱:</label>
                        <input type="text" class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">派遣日期:</label>
                        <input type="date" class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">活動地點:</label>
                        <input type="text" class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">聯絡窗口:</label>
                        <input type="text" class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2">
                    </div>
                </div>
            </div>
            
            <div class="border rounded-lg p-4">
                <h3 class="font-bold text-lg mb-3 header-gradient text-white p-2 rounded">報價資訊</h3>
                <div class="space-y-3">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">報價編號:</label>
                        <input type="text" value="LX-2025-98945" class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-100" readonly>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">報價日期:</label>
                        <input type="text" value="2025/05/29" class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-100" readonly>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">負責人:</label>
                        <input type="text" value="蘇裕庭" class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-100" readonly>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">聯絡電話:</label>
                        <input type="text" value="0926169899" class="mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-100" readonly>
                    </div>
                </div>
            </div>
        </div>

        <div class="overflow-x-auto mb-8">
            <table class="min-w-full">
                <thead>
                    <tr class="bg-gray-100">
                        <th class="w-1/5">品項</th>
                        <th class="w-1/12">數量</th>
                        <th class="w-1/10">單價 (NT$)</th>
                        <th class="w-2/5">工作內容</th>
                        <th class="w-1/8">小計 (NT$)</th>
                    </tr>
                </thead>
                <tbody id="quoteItems">
                    <tr>
                        <td>人事支援</td>
                        <td><input type="number" min="0" value="0" class="quantity border rounded w-full px-2 py-1" data-price="2500"></td>
                        <td>2,500</td>
                        <td>進場、演出、撤場</td>
                        <td class="subtotal">0</td>
                    </tr>
                    <tr>
                        <td>燈/音/視控</td>
                        <td><input type="number" min="0" value="0" class="quantity border rounded w-full px-2 py-1" data-price="1000"></td>
                        <td>1,000</td>
                        <td>演出前一日彩排，將視為一場演出，另行計費。<br>彩排與演出同日進行，僅收取一次演出費用。</td>
                        <td class="subtotal">0</td>
                    </tr>
                    <tr>
                        <td>追光燈操作</td>
                        <td><input type="number" min="0" value="0" class="quantity border rounded w-full px-2 py-1" data-price="1000"></td>
                        <td>1,000</td>
                        <td>演出前一日彩排，將視為一場演出，另行計費。<br>彩排與演出同日進行，僅收取一次演出費用。</td>
                        <td class="subtotal">0</td>
                    </tr>
                    <tr>
                        <td>高空</td>
                        <td><input type="number" min="0" value="0" class="quantity border rounded w-full px-2 py-1" data-price="1000"></td>
                        <td>1,000</td>
                        <td>依layer6格以上約9米高度，另酌收費</td>
                        <td class="subtotal">0</td>
                    </tr>
                    <tr>
                        <td>加班費</td>
                        <td><input type="number" min="0" value="0" class="quantity border rounded w-full px-2 py-1" data-price="350"></td>
                        <td>350</td>
                        <td>每小時計算，超過8小時工作時間</td>
                        <td class="subtotal">0</td>
                    </tr>
                    <tr>
                        <td>行政執行費</td>
                        <td>一式</td>
                        <td>10%</td>
                        <td>單價*人數*10%</td>
                        <td id="adminFee">0</td>
                    </tr>
                    <tr>
                        <td>其他</td>
                        <td>一式</td>
                        <td><input type="number" min="0" value="0" id="otherUnitPrice" class="border rounded w-full px-2 py-1"></td>
                        <td><textarea class="border rounded w-full px-2 py-1" placeholder="請輸入說明..."></textarea></td>
                        <td id="otherSubtotal">0</td>
                    </tr>
                    <tr>
                        <td>技術指導</td>
                        <td><input type="number" min="0" value="0" class="quantity border rounded w-full px-2 py-1" data-price="5000"></td>
                        <td>5,000</td>
                        <td>現場技術統籌與協調</td>
                        <td class="subtotal">0</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr class="font-bold bg-gray-100">
                        <td colspan="4" class="text-right">總計 (NT$):</td>
                        <td id="totalAmount">0</td>
                    </tr>
                </tfoot>
            </table>
        </div>

        <div class="mb-8">
            <h3 class="font-bold text-lg mb-3">備註事項</h3>
            <ul class="list-disc pl-5 space-y-1 text-gray-700">
                <li>本人僅協助媒合與執行活動之統籌角色，執行風險與責任應由現場技術人員自負。</li>
                <li>移動至不同活動場地即視為新場次，費用重新計算。</li>
                <li>演出當天取消需支付報價金額之 50% ，改期需於五日前通知，否則視同取消。</li>
                <li>活動結束雙方應現場確認交付狀況後視驗收完畢，恕不再就當日服務異議減項。</li>
                <li>維持作業品質與人員安排效率等相關行政作業，將酌收行政執行費用，已併入請款明細列示。</li>
            </ul>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div>
                <h3 class="font-bold mb-3">客戶簽名</h3>
                <div class="border-b border-gray-400 h-20 mb-2"></div>
                <div class="flex">
                    <span class="mr-2">日期:</span>
                    <div class="border-b border-gray-400 flex-grow"></div>
                </div>
            </div>
            <div>
                <h3 class="font-bold mb-3">簽名</h3>
                <div class="border-b border-gray-400 h-20 mb-2"></div>
                <div class="flex">
                    <span class="mr-2">日期:</span>
                    <div class="border-b border-gray-400 flex-grow"></div>
                </div>
            </div>
        </div>

        <div class="print-button-container flex justify-center space-x-4">
            <button id="printButton" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded no-print">
                列印報價單
            </button>
            <button id="saveButton" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded no-print">
                儲存報價單
            </button>
        </div><div class="bg-gray-800 text-center  text-white max-w-5xl w-full py-4 rounded-md">
    <p class="text-4x1 font-medium">LUMASONIX x PROFESSIONAL | 專業技術支援 x 人力媒合行銷</p>
<p class="text-4x1 font-medium">電話: 0926-169-899 | 電子郵件: lumasonix@gmail.com</p>
  </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Calculate function
            function calculateTotals() {
                let subtotal = 0;
                
                // Calculate each line item
                document.querySelectorAll('.quantity').forEach(input => {
                    const quantity = parseInt(input.value) || 0;
                    const price = parseInt(input.getAttribute('data-price'));
                    const lineTotal = quantity * price;
                    
                    // Update the subtotal display for this row
                    const subtotalCell = input.closest('tr').querySelector('.subtotal');
                    subtotalCell.textContent = lineTotal.toLocaleString();
                    
                    subtotal += lineTotal;
                });
                
                // Calculate "其他" item
                const otherUnitPrice = parseInt(document.getElementById('otherUnitPrice').value) || 0;
                document.getElementById('otherSubtotal').textContent = otherUnitPrice.toLocaleString();
                subtotal += otherUnitPrice;
                
                // Calculate admin fee (10% of subtotal)
                const adminFee = Math.round(subtotal * 0.1);
                document.getElementById('adminFee').textContent = adminFee.toLocaleString();
                
                // Calculate total
                const total = subtotal + adminFee;
                document.getElementById('totalAmount').textContent = total.toLocaleString();
            }
            
            // Add event listeners to all quantity inputs
            document.querySelectorAll('.quantity').forEach(input => {
                input.addEventListener('input', calculateTotals);
            });
            
            // Add event listener to other unit price input
            document.getElementById('otherUnitPrice').addEventListener('input', calculateTotals);
            
            // Print button functionality
            document.getElementById('printButton').addEventListener('click', function() {
                window.print();
            });
            
            // Save button functionality (just a placeholder - would need backend integration)
            document.getElementById('saveButton').addEventListener('click', function() {
                alert('報價單已儲存！（示範功能）');
            });
            
            // Initial calculation
            calculateTotals();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9474ab0083edf07f',t:'MTc0ODUwNzgyNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
